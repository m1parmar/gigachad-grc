import{r as a,k as o,aD as m,j as e,M as c,a2 as u}from"./vendor-CWk44mA8.js";import{R as f,B as l}from"./index-CiJwl-Bo.js";import{a as p}from"./Skeleton-DVOICtGK.js";import"./vendor-http-B9ygI19o.js";import"./vendor-date-CWdg4M78.js";function v(){const[r,n]=a.useState([]),[d,i]=a.useState(!0),t=o();a.useEffect(()=>{x()},[]);const x=async()=>{try{const s=await f.list();n(s.data)}catch(s){console.error("Error fetching assessments:",s),m.error("Failed to load assessments")}finally{i(!1)}};return d?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-surface-100",children:"Vendor Assessments"}),e.jsx("p",{className:"mt-1 text-surface-400",children:"Track and manage vendor risk assessments"})]})}),e.jsx(p,{rows:5,columns:4})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-surface-100",children:"Vendor Assessments"}),e.jsx("p",{className:"mt-1 text-surface-400",children:"Track and manage vendor risk assessments"})]}),e.jsx(l,{onClick:()=>t("/assessments/new"),leftIcon:e.jsx(c,{className:"w-5 h-5"}),children:"New Assessment"})]}),r.length===0?e.jsxs("div",{className:"bg-surface-900 border border-surface-800 rounded-lg p-12 text-center",children:[e.jsx(u,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:"No assessments yet"}),e.jsx("p",{className:"text-surface-500 mb-6",children:"Get started by creating your first vendor assessment"}),e.jsx(l,{onClick:()=>t("/assessments/new"),leftIcon:e.jsx(c,{className:"w-5 h-5"}),children:"New Assessment"})]}):e.jsx("div",{className:"bg-surface-900 border border-surface-800 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-surface-800 border-b border-surface-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Vendor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Due Date"})]})}),e.jsx("tbody",{className:"divide-y divide-surface-800",children:r.map(s=>e.jsxs("tr",{onClick:()=>t(`/assessments/${s.id}`),className:"hover:bg-surface-800 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-surface-100",children:s.vendor?.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-surface-300 capitalize",children:s.assessmentType.replace("_"," ")}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full capitalize ${s.status==="completed"?"bg-green-500/20 text-green-400":s.status==="in_progress"?"bg-blue-500/20 text-blue-400":s.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-surface-700 text-surface-400"}`,children:s.status.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4",children:s.overallScore!==null&&s.overallScore!==void 0?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-surface-100",children:s.overallScore}),e.jsx("div",{className:"w-16 h-2 bg-surface-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${s.overallScore>=80?"bg-green-500":s.overallScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.overallScore}%`}})})]}):e.jsx("span",{className:"text-sm text-surface-500",children:"—"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-surface-300",children:s.dueDate?new Date(s.dueDate).toLocaleDateString():"—"})]},s.id))})]})})]})}export{v as default};
