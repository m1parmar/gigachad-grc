import{r as o,aD as f,j as e,S as w,v as C,a5 as p,bU as k,w as h,ad as N,bP as g}from"./vendor-CWk44mA8.js";import{b as S,T as j}from"./index-CiJwl-Bo.js";import"./vendor-http-B9ygI19o.js";import"./vendor-date-CWdg4M78.js";function U(){const{user:s}=S(),[r,a]=o.useState(null),[t,n]=o.useState(!0),[l,x]=o.useState("general"),[b,u]=o.useState(!1),i=s?.organizationId||"";o.useEffect(()=>{i&&y()},[i]);const y=async()=>{try{const c=await j.getConfig({organizationId:i});a(c.data)}catch(c){console.error("Error fetching trust center config:",c),f.error("Failed to load trust center config")}finally{n(!1)}},m=async c=>{u(!0);try{const d=await j.updateConfig(c,{organizationId:i});a(d.data),f.success("Settings saved")}catch(d){console.error("Error updating trust center config:",d),f.error("Failed to save settings")}finally{u(!1)}},v=[{id:"general",name:"General",icon:p},{id:"branding",name:"Branding",icon:k},{id:"domain",name:"Custom Domain",icon:h},{id:"embed",name:"Embed Code",icon:N}];return t?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-surface-400",children:"Loading settings..."})}):r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-surface-100",children:"Trust Center Settings"}),e.jsx("p",{className:"mt-1 text-surface-400",children:"Configure your public-facing security trust center"})]}),e.jsx("div",{className:`p-4 rounded-lg border ${r.isEnabled?"bg-green-500/10 border-green-500/30":"bg-yellow-500/10 border-yellow-500/30"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[r.isEnabled?e.jsx(w,{className:"w-6 h-6 text-green-500 dark:text-green-400"}):e.jsx(C,{className:"w-6 h-6 text-amber-600 dark:text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${r.isEnabled?"text-green-600 dark:text-green-400":"text-amber-700 dark:text-yellow-400"}`,children:r.isEnabled?"Trust Center is Live":"Trust Center is Disabled"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-surface-400",children:r.isEnabled?"Your trust center is publicly accessible":"Enable to make your trust center publicly visible"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.isEnabled,onChange:c=>m({isEnabled:c.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-7 bg-surface-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-green-600"})]})]})}),e.jsxs("div",{className:"bg-surface-900 border border-surface-800 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"border-b border-surface-800",children:e.jsx("nav",{className:"flex",children:v.map(c=>{const d=c.icon;return e.jsxs("button",{onClick:()=>x(c.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${l===c.id?"border-brand-500 text-brand-400 bg-surface-800/50":"border-transparent text-surface-400 hover:text-surface-300 hover:bg-surface-800/30"}`,children:[e.jsx(d,{className:"w-5 h-5"}),c.name]},c.id)})})}),e.jsxs("div",{className:"p-6",children:[l==="general"&&e.jsx(E,{config:r,onUpdate:m,organizationId:i}),l==="branding"&&e.jsx(D,{config:r,onUpdate:m}),l==="domain"&&e.jsx(T,{config:r,onUpdate:m}),l==="embed"&&e.jsx($,{config:r,organizationId:i})]})]}),b&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-surface-800 text-surface-200 px-4 py-2 rounded-lg shadow-lg",children:"Saving..."})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-surface-400",children:"Unable to load configuration"})})}function E({config:s,onUpdate:r,organizationId:a}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-surface-100 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Security Email"}),e.jsx("input",{type:"email",value:s.securityEmail||"",onChange:t=>r({securityEmail:t.target.value}),className:"w-full px-3 py-2 bg-surface-800 border border-surface-700 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500",placeholder:"security@company.com"}),e.jsx("p",{className:"text-xs text-surface-500 mt-1",children:"Public email for security inquiries"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Support URL"}),e.jsx("input",{type:"url",value:s.supportUrl||"",onChange:t=>r({supportUrl:t.target.value}),className:"w-full px-3 py-2 bg-surface-800 border border-surface-700 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500",placeholder:"https://support.company.com"}),e.jsx("p",{className:"text-xs text-surface-500 mt-1",children:"Link to your support portal"})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-surface-800",children:[e.jsx("h3",{className:"text-lg font-medium text-surface-100 mb-4",children:"Section Visibility"}),e.jsx("p",{className:"text-sm text-surface-400 mb-4",children:"Choose which sections to display on your public trust center"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"showCertifications",label:"Certifications & Compliance",description:"Display your compliance frameworks"},{key:"showSecurityFeatures",label:"Security Features",description:"Show technical security controls"},{key:"showPolicies",label:"Policies",description:"Link to security policies"},{key:"showPrivacy",label:"Privacy",description:"Privacy practices section"},{key:"showIncidentResponse",label:"Incident Response",description:"Incident handling procedures"}].map(t=>e.jsxs("label",{className:"flex items-start gap-3 p-3 bg-surface-800/50 rounded-lg cursor-pointer hover:bg-surface-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:s[t.key],onChange:n=>r({[t.key]:n.target.checked}),className:"mt-1 w-4 h-4 bg-surface-800 border-surface-700 rounded text-brand-600 focus:ring-brand-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-surface-200",children:t.label}),e.jsx("p",{className:"text-xs text-surface-500",children:t.description})]})]},t.key))})]}),e.jsxs("div",{className:"pt-6 border-t border-surface-800",children:[e.jsx("h3",{className:"text-lg font-medium text-surface-100 mb-4",children:"Quick Links"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("a",{href:`/trust-center/public?organizationId=${a}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors",children:[e.jsx(p,{className:"w-5 h-5"}),"View Live Trust Center"]}),e.jsx("a",{href:"/trust-center",className:"inline-flex items-center gap-2 px-4 py-2 bg-surface-700 text-surface-200 rounded-lg hover:bg-surface-600 transition-colors",children:"Manage Content"})]})]})]})}function D({config:s,onUpdate:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-surface-100 mb-4",children:"Company Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Company Name"}),e.jsx("input",{type:"text",value:s.companyName,onChange:a=>r({companyName:a.target.value}),className:"w-full px-3 py-2 bg-surface-800 border border-surface-700 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500",placeholder:"Your Company Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Company Description"}),e.jsx("textarea",{value:s.description||"",onChange:a=>r({description:a.target.value}),rows:3,className:"w-full px-3 py-2 bg-surface-800 border border-surface-700 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500",placeholder:"Describe your security posture and commitment to security..."}),e.jsx("p",{className:"text-xs text-surface-500 mt-1",children:"This appears in the hero section of your trust center"})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-surface-800",children:[e.jsx("h3",{className:"text-lg font-medium text-surface-100 mb-4",children:"Visual Branding"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Logo URL"}),e.jsx("input",{type:"url",value:s.logoUrl||"",onChange:a=>r({logoUrl:a.target.value}),className:"w-full px-3 py-2 bg-surface-800 border border-surface-700 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500",placeholder:"https://example.com/logo.png"}),e.jsx("p",{className:"text-xs text-surface-500 mt-1",children:"Recommended: 200x50px, PNG or SVG"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Primary Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:s.primaryColor||"#6366f1",onChange:a=>r({primaryColor:a.target.value}),className:"w-12 h-10 bg-surface-800 border border-surface-700 rounded-lg cursor-pointer"}),e.jsx("input",{type:"text",value:s.primaryColor||"#6366f1",onChange:a=>r({primaryColor:a.target.value}),className:"flex-1 px-3 py-2 bg-surface-800 border border-surface-700 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500",placeholder:"#6366f1"})]}),e.jsx("p",{className:"text-xs text-surface-500 mt-1",children:"Used for headings, buttons, and accents"})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-surface-800",children:[e.jsx("h3",{className:"text-lg font-medium text-surface-100 mb-4",children:"Preview"}),e.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[s.logoUrl&&e.jsx("img",{src:s.logoUrl,alt:s.companyName,className:"h-12 mx-auto mb-4"}),e.jsxs("h2",{className:"text-2xl font-bold mb-2",style:{color:s.primaryColor||"#6366f1"},children:[s.companyName," Trust Center"]}),s.description&&e.jsx("p",{className:"text-gray-600 max-w-xl mx-auto",children:s.description})]})]})]})}function T({config:s,onUpdate:r}){const[a,t]=o.useState(s.customDomain||""),n=()=>{r({customDomain:a||void 0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-surface-100 mb-2",children:"Custom Domain"}),e.jsx("p",{className:"text-sm text-surface-400 mb-4",children:"Host your Trust Center on your own domain for a seamless brand experience"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Your Custom Domain"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:l=>t(l.target.value),className:"flex-1 px-3 py-2 bg-surface-800 border border-surface-700 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500",placeholder:"trust.yourcompany.com"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors",children:"Save"})]}),e.jsx("p",{className:"text-xs text-surface-500 mt-1",children:"Examples: trust.yourcompany.com, security.yourcompany.com"})]})})]}),s.customDomain&&e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-6 border border-surface-700",children:[e.jsxs("h4",{className:"text-md font-medium text-surface-200 mb-4 flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5 text-brand-400"}),"DNS Configuration Required"]}),e.jsxs("ol",{className:"space-y-4 text-sm",children:[e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-brand-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-surface-200",children:"Log in to your domain registrar or DNS provider"}),e.jsx("p",{className:"text-surface-500 text-xs mt-1",children:"Common providers: Cloudflare, GoDaddy, Namecheap, Route53"})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-brand-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-surface-200",children:"Add a CNAME record with these values:"}),e.jsxs("div",{className:"mt-2 bg-surface-900 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-400",children:"Type:"}),e.jsx("code",{className:"text-brand-400",children:"CNAME"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-400",children:"Host/Name:"}),e.jsx("code",{className:"text-brand-400",children:s.customDomain.split(".")[0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-400",children:"Value/Points to:"}),e.jsx("code",{className:"text-brand-400",children:"trust.gigachad-grc.com"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-400",children:"TTL:"}),e.jsx("code",{className:"text-brand-400",children:"300"})," ",e.jsx("span",{className:"text-surface-500",children:"(or Auto)"})]})]})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-brand-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-surface-200",children:"Wait for DNS propagation"}),e.jsx("p",{className:"text-surface-500 text-xs mt-1",children:"This can take up to 24-48 hours, but usually completes within minutes"})]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-brand-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-surface-200",children:"SSL certificate will be automatically provisioned"}),e.jsx("p",{className:"text-surface-500 text-xs mt-1",children:"We use Let's Encrypt to secure your custom domain"})]})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-surface-700",children:e.jsxs("a",{href:`https://${s.customDomain}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-brand-400 hover:text-brand-300 text-sm",children:[e.jsx(p,{className:"w-4 h-4"}),"Test https://",s.customDomain]})})]}),!s.customDomain&&e.jsxs("div",{className:"bg-surface-800/30 rounded-lg p-6 border border-dashed border-surface-700 text-center",children:[e.jsx(h,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),e.jsx("p",{className:"text-surface-400",children:"Enter a custom domain above to see setup instructions"})]})]})}function $({config:s,organizationId:r}){const t=`${window.location.origin}/trust-center/public?organizationId=${r}`,n=(b,u)=>{navigator.clipboard.writeText(b),f.success(`${u} copied to clipboard`)},l=`<iframe
  src="${t}"
  width="100%"
  height="800"
  frameborder="0"
  title="${s.companyName} Trust Center"
></iframe>`,x=`<a 
  href="${t}" 
  target="_blank" 
  rel="noopener noreferrer"
  style="display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:${s.primaryColor||"#6366f1"};color:white;border-radius:8px;text-decoration:none;font-weight:500;font-family:system-ui,sans-serif;"
>
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
  </svg>
  View ${s.companyName} Security
</a>`;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"w-5 h-5 text-brand-400"}),e.jsx("h3",{className:"text-lg font-medium text-surface-100",children:"Full Page Embed (iframe)"})]}),e.jsx("p",{className:"text-sm text-surface-400 mb-4",children:"Embed your complete Trust Center on any webpage"}),e.jsxs("div",{className:"relative",children:[e.jsx("pre",{className:"p-4 bg-surface-800 rounded-lg text-sm text-surface-300 overflow-x-auto",children:l}),e.jsxs("button",{onClick:()=>n(l,"iframe code"),className:"absolute top-2 right-2 flex items-center gap-1 px-3 py-1.5 text-xs bg-surface-700 text-surface-300 rounded hover:bg-surface-600 transition-colors",children:[e.jsx(g,{className:"w-4 h-4"}),"Copy"]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-surface-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{className:"w-5 h-5 text-brand-400"}),e.jsx("h3",{className:"text-lg font-medium text-surface-100",children:"Security Button"})]}),e.jsx("p",{className:"text-sm text-surface-400 mb-4",children:"Add a branded button that links to your Trust Center"}),e.jsxs("div",{className:"relative",children:[e.jsx("pre",{className:"p-4 bg-surface-800 rounded-lg text-sm text-surface-300 overflow-x-auto",children:x}),e.jsxs("button",{onClick:()=>n(x.replace(/\n/g,""),"button code"),className:"absolute top-2 right-2 flex items-center gap-1 px-3 py-1.5 text-xs bg-surface-700 text-surface-300 rounded hover:bg-surface-600 transition-colors",children:[e.jsx(g,{className:"w-4 h-4"}),"Copy"]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-surface-800/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-surface-500 mb-3",children:"Preview:"}),e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:s.primaryColor||"#6366f1",color:"white",borderRadius:"8px",textDecoration:"none",fontWeight:500},children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"View ",s.companyName," Security"]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-surface-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(p,{className:"w-5 h-5 text-brand-400"}),e.jsx("h3",{className:"text-lg font-medium text-surface-100",children:"Direct Link"})]}),e.jsx("p",{className:"text-sm text-surface-400 mb-4",children:"Share this URL directly with customers or partners"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",readOnly:!0,value:t,className:"flex-1 px-3 py-2 bg-surface-800 border border-surface-700 rounded-lg text-surface-300 text-sm"}),e.jsxs("button",{onClick:()=>n(t,"URL"),className:"flex items-center gap-1 px-4 py-2 bg-surface-700 text-surface-200 rounded-lg hover:bg-surface-600 transition-colors",children:[e.jsx(g,{className:"w-4 h-4"}),"Copy"]})]})]})]})}export{U as default};
