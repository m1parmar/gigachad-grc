import{r as m,u as N,b as w,c as b,j as e,ay as p,E as f,a$ as S,aa as k,bB as j,v}from"./vendor-CWk44mA8.js";import{C as h}from"./index-CiJwl-Bo.js";import"./vendor-http-B9ygI19o.js";import"./vendor-date-CWdg4M78.js";function F(){const[r,x]=m.useState("scoring"),t=N(),{data:l,isLoading:i,error:n}=w({queryKey:["risk-config"],queryFn:async()=>(await h.get()).data}),d=b({mutationFn:async s=>(await h.update(s)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["risk-config"]})}}),o=b({mutationFn:async()=>(await h.reset()).data,onSuccess:()=>{t.invalidateQueries({queryKey:["risk-config"]})}}),a=[{key:"scoring",label:"Scoring Methodology",icon:f},{key:"categories",label:"Risk Categories",icon:S},{key:"workflow",label:"Workflow Settings",icon:k},{key:"slas",label:"SLAs & Escalation",icon:j},{key:"appetite",label:"Risk Appetite",icon:v}];return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-500 dark:text-surface-400",children:"Loading configuration..."})}):n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-red-500 dark:text-red-400",children:"Failed to load configuration"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:"Risk Configuration"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 dark:text-surface-400 mt-1",children:"Configure risk management settings and methodology"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[d.isPending&&e.jsxs("span",{className:"text-brand-500 dark:text-brand-400 text-sm flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 animate-spin"}),"Saving..."]}),e.jsxs("button",{onClick:()=>{confirm("Reset all settings to defaults?")&&o.mutate()},disabled:o.isPending,className:"px-4 py-2 bg-gray-100 dark:bg-surface-700 text-gray-700 dark:text-surface-300 rounded-lg hover:bg-gray-200 dark:hover:bg-surface-600 flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4"}),"Reset to Defaults"]})]})]}),e.jsx("div",{className:"flex gap-2 border-b border-gray-200 dark:border-surface-700 pb-px",children:a.map(s=>e.jsxs("button",{onClick:()=>x(s.key),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${r===s.key?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-500 dark:text-surface-400 hover:text-gray-700 dark:hover:text-surface-300"}`,children:[e.jsx(s.icon,{className:"w-4 h-4"}),s.label]},s.key))}),e.jsxs("div",{className:"bg-white dark:bg-surface-800 rounded-xl border border-gray-200 dark:border-surface-700 p-6",children:[r==="scoring"&&l&&e.jsx(A,{config:l,onUpdate:s=>d.mutate(s)}),r==="categories"&&l&&e.jsx(C,{config:l,onUpdate:s=>d.mutate(s)}),r==="workflow"&&l&&e.jsx(L,{config:l,onUpdate:s=>d.mutate(s)}),r==="slas"&&l&&e.jsx(R,{config:l,onUpdate:s=>d.mutate(s)}),r==="appetite"&&l&&e.jsx(M,{config:l,onUpdate:s=>d.mutate(s)})]})]})}function A({config:r,onUpdate:x}){const[t,l]=m.useState(r.methodology),[i,n]=m.useState(!1);m.useEffect(()=>{l(r.methodology)},[r.methodology]);const d=s=>{l(s),x({methodology:s})},a={qualitative:{title:"Qualitative Risk Assessment",description:"Uses subjective judgment and categorical scales to assess risk levels. Best for organizations starting their risk management journey or when precise data is unavailable.",formula:"Risk Score = Likelihood Rating × Impact Rating",pros:["Easy to understand and communicate","Quick to implement and assess","Works well without historical data","Facilitates stakeholder discussions","Suitable for strategic and reputational risks"],cons:["Subjective and prone to bias","Difficult to compare across different risk types","May not satisfy regulatory requirements for financial risks","Less precise for cost-benefit analysis"],bestFor:["Early-stage risk programs","Non-financial risks (reputational, strategic)","Quick risk triage","Board-level reporting"],standards:["ISO 31000","NIST RMF","COSO ERM","ISO 27005"]},quantitative:{title:"Quantitative Risk Assessment",description:"Uses numerical data and statistical methods to calculate risk in monetary terms. Enables precise cost-benefit analysis and ROI calculations for security investments.",formula:`ALE = SLE × ARO
where:
• ALE = Annual Loss Expectancy
• SLE = Single Loss Expectancy (Asset Value × Exposure Factor)
• ARO = Annual Rate of Occurrence`,pros:["Objective and data-driven","Enables precise ROI calculations","Supports budget justification","Facilitates comparison across risk types","Meets regulatory requirements for financial risks"],cons:["Requires historical data and statistics","Time-consuming to implement properly","May give false sense of precision","Difficult for non-financial risks","Requires specialized expertise"],bestFor:["Mature risk programs","Financial and operational risks","Security investment decisions","Insurance and actuarial analysis","Regulatory compliance (Basel, Solvency II)"],standards:["FAIR (Factor Analysis of Information Risk)","Basel III","Solvency II","Monte Carlo Simulation"]},hybrid:{title:"Hybrid Risk Assessment",description:"Combines qualitative and quantitative methods, using qualitative assessments for initial screening and quantitative analysis for high-priority risks requiring detailed analysis.",formula:`Initial: Likelihood × Impact Matrix
Detailed: ALE = SLE × ARO (for high-priority risks)`,pros:["Flexibility for different risk types","Efficient resource allocation","Balances speed with precision","Satisfies diverse stakeholder needs","Scalable as program matures"],cons:["More complex to manage","Requires clear criteria for escalation","May cause confusion if not well-documented","Needs training on both approaches"],bestFor:["Organizations with diverse risk portfolios","Maturing risk programs","Mixed regulatory requirements","Enterprise-wide risk management"],standards:["ISO 31000","FAIR","NIST CSF","COBIT"]}}[t];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Scoring Methodology"}),e.jsx("button",{onClick:()=>n(!i),className:"text-sm text-brand-400 hover:text-brand-300",children:i?"Hide Details":"Learn More"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:`p-4 rounded-lg border cursor-pointer transition-all ${t==="qualitative"?"border-brand-500 bg-brand-500/10 ring-2 ring-brand-500":"border-gray-200 dark:border-surface-700 bg-gray-50 dark:bg-surface-700/50 hover:border-brand-500/50"}`,children:[e.jsx("input",{type:"radio",name:"methodology",value:"qualitative",checked:t==="qualitative",onChange:s=>d(s.target.value),className:"sr-only"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t==="qualitative"?"bg-brand-500/20":"bg-gray-200 dark:bg-surface-600"}`,children:e.jsx(f,{className:`w-5 h-5 ${t==="qualitative"?"text-brand-400":"text-gray-500 dark:text-surface-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Qualitative"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm mt-1",children:"Likelihood × Impact matrix using categorical scales (1-5)"}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[e.jsx("span",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-400 text-xs rounded",children:"Easy"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 text-xs rounded",children:"Fast"}),e.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 text-xs rounded",children:"ISO 31000"})]})]})]})]}),e.jsxs("label",{className:`p-4 rounded-lg border cursor-pointer transition-all ${t==="quantitative"?"border-brand-500 bg-brand-500/10 ring-2 ring-brand-500":"border-gray-200 dark:border-surface-700 bg-gray-50 dark:bg-surface-700/50 hover:border-brand-500/50"}`,children:[e.jsx("input",{type:"radio",name:"methodology",value:"quantitative",checked:t==="quantitative",onChange:s=>d(s.target.value),className:"sr-only"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t==="quantitative"?"bg-brand-500/20":"bg-gray-200 dark:bg-surface-600"}`,children:e.jsx("svg",{className:`w-5 h-5 ${t==="quantitative"?"text-brand-400":"text-gray-500 dark:text-surface-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Quantitative"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm mt-1",children:"Annual Loss Expectancy (ALE) using financial data"}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[e.jsx("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 text-xs rounded",children:"Advanced"}),e.jsx("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded",children:"ROI"}),e.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 text-xs rounded",children:"FAIR"})]})]})]})]}),e.jsxs("label",{className:`p-4 rounded-lg border cursor-pointer transition-all ${t==="hybrid"?"border-brand-500 bg-brand-500/10 ring-2 ring-brand-500":"border-gray-200 dark:border-surface-700 bg-gray-50 dark:bg-surface-700/50 hover:border-brand-500/50"}`,children:[e.jsx("input",{type:"radio",name:"methodology",value:"hybrid",checked:t==="hybrid",onChange:s=>d(s.target.value),className:"sr-only"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t==="hybrid"?"bg-brand-500/20":"bg-gray-200 dark:bg-surface-600"}`,children:e.jsx("svg",{className:`w-5 h-5 ${t==="hybrid"?"text-brand-400":"text-gray-500 dark:text-surface-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Hybrid"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm mt-1",children:"Qualitative screening + Quantitative deep-dive"}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[e.jsx("span",{className:"px-2 py-0.5 bg-cyan-500/20 text-cyan-400 text-xs rounded",children:"Flexible"}),e.jsx("span",{className:"px-2 py-0.5 bg-orange-500/20 text-orange-400 text-xs rounded",children:"Scalable"}),e.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 text-xs rounded",children:"Best Practice"})]})]})]})]})]})]}),i&&a&&e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-surface-700/30 rounded-xl border border-gray-200 dark:border-surface-700",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:a.title}),e.jsx("p",{className:"text-gray-600 dark:text-surface-300 text-sm mb-4",children:a.description}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-900 dark:bg-surface-900 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"Formula"}),e.jsx("pre",{className:"text-emerald-400 font-mono text-sm whitespace-pre-wrap",children:a.formula})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-medium text-emerald-400 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Advantages"]}),e.jsx("ul",{className:"space-y-2",children:a.pros.map((s,c)=>e.jsxs("li",{className:"text-sm text-gray-600 dark:text-surface-300 flex items-start gap-2",children:[e.jsx("span",{className:"text-emerald-400 mt-1",children:"•"}),s]},c))})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-medium text-amber-400 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Limitations"]}),e.jsx("ul",{className:"space-y-2",children:a.cons.map((s,c)=>e.jsxs("li",{className:"text-sm text-gray-600 dark:text-surface-300 flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-400 mt-1",children:"•"}),s]},c))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 pt-6 border-t border-gray-200 dark:border-surface-700",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-medium text-blue-400 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Best For"]}),e.jsx("ul",{className:"space-y-2",children:a.bestFor.map((s,c)=>e.jsxs("li",{className:"text-sm text-gray-600 dark:text-surface-300 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-400 mt-1",children:"•"}),s]},c))})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-medium text-purple-400 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Supporting Standards & Frameworks"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.standards.map((s,c)=>e.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 text-xs rounded-full",children:s},c))})]})]})]}),(t==="quantitative"||t==="hybrid")&&e.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[e.jsxs("h4",{className:"text-blue-400 font-medium mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quantitative Analysis Settings"]}),e.jsx("p",{className:"text-gray-600 dark:text-surface-300 text-sm mb-4",children:"When using quantitative or hybrid methodology, risks can include financial data for ALE calculation."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-surface-800/50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 dark:text-surface-400",children:"Currency"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"USD ($)"})]}),e.jsxs("div",{className:"p-3 bg-surface-800/50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 dark:text-surface-400",children:"Analysis Period"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Annual (12 months)"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-surface-500 mt-3",children:"Configure additional quantitative settings including asset values, exposure factors, and historical loss data in individual risk assessments."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-900 dark:text-gray-900 dark:text-white font-medium mb-3",children:"Likelihood Scale"}),e.jsx("div",{className:"space-y-2",children:r.likelihoodScale.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-gray-200 dark:bg-surface-600 flex items-center justify-center text-gray-900 dark:text-gray-900 dark:text-white text-sm font-medium",children:s.weight}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-gray-900 dark:text-white text-sm",children:s.label}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 dark:text-surface-400 text-xs",children:s.description})]})]},s.value))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-900 dark:text-gray-900 dark:text-white font-medium mb-3",children:"Impact Scale"}),e.jsx("div",{className:"space-y-2",children:r.impactScale.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("span",{className:"w-6 h-6 rounded bg-gray-200 dark:bg-surface-600 flex items-center justify-center text-gray-900 dark:text-gray-900 dark:text-white text-sm font-medium",children:s.weight}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-gray-900 dark:text-white text-sm",children:s.label}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 dark:text-surface-400 text-xs",children:s.description})]})]},s.value))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-900 dark:text-gray-900 dark:text-white font-medium mb-3",children:"Risk Level Matrix"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 text-gray-500 dark:text-gray-500 dark:text-surface-400 text-left"}),r.impactScale.map(s=>e.jsx("th",{className:"p-2 text-center text-gray-500 dark:text-gray-500 dark:text-surface-400",children:s.label},s.value))]})}),e.jsx("tbody",{children:[...r.likelihoodScale].reverse().map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 text-gray-500 dark:text-gray-500 dark:text-surface-400",children:s.label}),r.impactScale.map(c=>{const g=s.weight*c.weight;let u="bg-emerald-500/50";return g>=r.riskLevelThresholds.critical?u="bg-red-500/50":g>=r.riskLevelThresholds.high?u="bg-orange-500/50":g>=r.riskLevelThresholds.medium?u="bg-amber-500/50":g>=r.riskLevelThresholds.low&&(u="bg-emerald-500/50"),e.jsx("td",{className:`p-2 text-center ${u} text-gray-900 dark:text-white`,children:g},c.value)})]},s.value))})]})})]})]})}function C({config:r,onUpdate:x}){const[t,l]=m.useState(r.categories),[i,n]=m.useState({name:"",description:"",color:"#6366f1"});m.useEffect(()=>{l(r.categories)},[r.categories]);const d=()=>{if(i.name){const a=[...t,{...i,id:`cat-${Date.now()}`}];l(a),x({categories:a}),n({name:"",description:"",color:"#6366f1"})}},o=a=>{const s=t.filter(c=>c.id!==a);l(s),x({categories:s})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-900 dark:text-white mb-4",children:"Risk Categories"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 dark:text-surface-400 text-sm mb-4",children:"Define the categories used to classify risks in your organization."})]}),e.jsx("div",{className:"space-y-3",children:t.map(a=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:a.color}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-gray-900 dark:text-white font-medium",children:a.name}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 dark:text-surface-400 text-sm",children:a.description})]}),e.jsx("button",{onClick:()=>o(a.id),className:"text-gray-500 dark:text-gray-500 dark:text-surface-400 hover:text-red-500 dark:hover:text-red-400 text-sm",children:"Remove"})]},a.id))}),e.jsxs("div",{className:"pt-4 border-t border-surface-700",children:[e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium mb-3",children:"Add Category"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",placeholder:"Category name",value:i.name,onChange:a=>n(s=>({...s,name:a.target.value})),className:"flex-1 px-4 py-2 bg-gray-50 dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white"}),e.jsx("input",{type:"text",placeholder:"Description",value:i.description,onChange:a=>n(s=>({...s,description:a.target.value})),className:"flex-1 px-4 py-2 bg-gray-50 dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white"}),e.jsx("input",{type:"color",value:i.color,onChange:a=>n(s=>({...s,color:a.target.value})),className:"w-12 h-10 rounded cursor-pointer"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-500 text-gray-900 dark:text-white rounded-lg hover:bg-brand-600",children:"Add"})]})]})]})}function L({config:r,onUpdate:x}){const[t,l]=m.useState(r.workflowSettings);m.useEffect(()=>{l(r.workflowSettings)},[r.workflowSettings]);const i=(n,d)=>{const o={...t,[n]:d};l(o),x({workflowSettings:o})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Workflow Settings"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm mb-4",children:"Configure how risks flow through the assessment and treatment process."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Assessment Workflow"}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white",children:"Require Formal Assessment"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"All risks must go through assessment phase"})]}),e.jsx("input",{type:"checkbox",checked:t.requireAssessment??!0,onChange:n=>i("requireAssessment",n.target.checked),className:"rounded border-surface-600"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white",children:"Require GRC Review"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Assessments must be reviewed by GRC team"})]}),e.jsx("input",{type:"checkbox",checked:t.requireGrcReview??!0,onChange:n=>i("requireGrcReview",n.target.checked),className:"rounded border-surface-600"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("p",{className:"text-gray-900 dark:text-white",children:"Executive Approval Threshold"})}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm mb-3",children:"Risk level that requires executive approval for accept/transfer/avoid"}),e.jsxs("select",{value:t.executiveApprovalThreshold??"high",onChange:n=>i("executiveApprovalThreshold",n.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white",children:[e.jsx("option",{value:"critical",children:"Critical only"}),e.jsx("option",{value:"high",children:"High and above"}),e.jsx("option",{value:"medium",children:"Medium and above"}),e.jsx("option",{value:"none",children:"No approval required"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-surface-700",children:[e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Review Settings"}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("p",{className:"text-gray-900 dark:text-white mb-2",children:"Default Review Frequency"}),e.jsxs("select",{value:t.defaultReviewFrequency??"quarterly",onChange:n=>i("defaultReviewFrequency",n.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"semi_annually",children:"Semi-Annually"}),e.jsx("option",{value:"annually",children:"Annually"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-surface-700",children:[e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:"Notifications"}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white",children:"Notify on Status Change"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Send notifications when risk status changes"})]}),e.jsx("input",{type:"checkbox",checked:t.notifyOnStatusChange??!0,onChange:n=>i("notifyOnStatusChange",n.target.checked),className:"rounded border-surface-600"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("p",{className:"text-gray-900 dark:text-white",children:"Due Date Reminder"})}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm mb-3",children:"Days before due date to send reminder"}),e.jsx("input",{type:"number",value:t.dueDateReminderDays??7,onChange:n=>i("dueDateReminderDays",parseInt(n.target.value)),min:"1",max:"30",className:"w-full px-4 py-2 bg-gray-50 dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white"})]})]})]})}const y={intakeToAssessment:48,assessmentDuration:120,grcReviewDuration:72,treatmentDecisionDuration:48,executiveApprovalDuration:72,mitigationSLA:{critical:7,high:30,medium:90,low:180},reviewCycleSLA:{critical:30,high:90,medium:180,low:365},escalationEnabled:!0,escalationThresholdPercent:80,escalationNotifyRoles:["grc_manager","risk_owner"],autoEscalateOnBreach:!0,breachNotificationEnabled:!0,breachGracePeriodHours:24};function R({config:r,onUpdate:x}){const[t,l]=m.useState(r.slaSettings||y);m.useEffect(()=>{l(r.slaSettings||y)},[r.slaSettings]);const i=(a,s)=>{const c={...t,[a]:s};l(c),x({slaSettings:c})},n=(a,s)=>{const c={...t,mitigationSLA:{...t.mitigationSLA,[a]:s}};l(c),x({slaSettings:c})},d=(a,s)=>{const c={...t,reviewCycleSLA:{...t.reviewCycleSLA,[a]:s}};l(c),x({slaSettings:c})},o=a=>{if(a<24)return`${a} hours`;const s=Math.floor(a/24),c=a%24;return c===0?`${s} day${s>1?"s":""}`:`${s} day${s>1?"s":""} ${c} hour${c>1?"s":""}`};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"SLA Configuration"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Define service level agreements for each step in the risk management workflow. SLA breaches can trigger escalations and notifications."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-gray-900 dark:text-white font-medium flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-brand-400"}),"Workflow Stage SLAs"]}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Maximum time allowed for each stage of the risk workflow."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("label",{className:"block text-gray-900 dark:text-white text-sm font-medium mb-2",children:"Intake → Assessment Start"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-xs mb-3",children:"Time from risk identification to beginning assessment"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:t.intakeToAssessment,onChange:a=>i("intakeToAssessment",parseInt(a.target.value)||0),min:"1",className:"w-24 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"hours"}),e.jsxs("span",{className:"text-gray-400 dark:text-surface-500 text-xs ml-auto",children:["(",o(t.intakeToAssessment),")"]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("label",{className:"block text-gray-900 dark:text-white text-sm font-medium mb-2",children:"Assessment Duration"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-xs mb-3",children:"Maximum time for risk assessor to complete analysis"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:t.assessmentDuration,onChange:a=>i("assessmentDuration",parseInt(a.target.value)||0),min:"1",className:"w-24 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"hours"}),e.jsxs("span",{className:"text-gray-400 dark:text-surface-500 text-xs ml-auto",children:["(",o(t.assessmentDuration),")"]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("label",{className:"block text-gray-900 dark:text-white text-sm font-medium mb-2",children:"GRC Review Duration"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-xs mb-3",children:"Maximum time for GRC team to review and approve assessment"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:t.grcReviewDuration,onChange:a=>i("grcReviewDuration",parseInt(a.target.value)||0),min:"1",className:"w-24 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"hours"}),e.jsxs("span",{className:"text-gray-400 dark:text-surface-500 text-xs ml-auto",children:["(",o(t.grcReviewDuration),")"]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("label",{className:"block text-gray-900 dark:text-white text-sm font-medium mb-2",children:"Treatment Decision"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-xs mb-3",children:"Maximum time to select treatment option (mitigate, accept, transfer, avoid)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:t.treatmentDecisionDuration,onChange:a=>i("treatmentDecisionDuration",parseInt(a.target.value)||0),min:"1",className:"w-24 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"hours"}),e.jsxs("span",{className:"text-gray-400 dark:text-surface-500 text-xs ml-auto",children:["(",o(t.treatmentDecisionDuration),")"]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("label",{className:"block text-gray-900 dark:text-white text-sm font-medium mb-2",children:"Executive Approval"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-xs mb-3",children:"Maximum time for executive to approve high-risk decisions"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:t.executiveApprovalDuration,onChange:a=>i("executiveApprovalDuration",parseInt(a.target.value)||0),min:"1",className:"w-24 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"hours"}),e.jsxs("span",{className:"text-gray-400 dark:text-surface-500 text-xs ml-auto",children:["(",o(t.executiveApprovalDuration),")"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200 dark:border-surface-700",children:[e.jsxs("h4",{className:"text-gray-900 dark:text-white font-medium flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-amber-400"}),"Mitigation SLAs by Risk Level"]}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Maximum time to implement mitigation controls based on risk severity."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[e.jsx("label",{className:"block text-red-400 text-sm font-medium mb-2",children:"Critical"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:t.mitigationSLA.critical,onChange:a=>n("critical",parseInt(a.target.value)||0),min:"1",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"days"})]})]}),e.jsxs("div",{className:"p-4 bg-orange-500/10 border border-orange-500/30 rounded-lg",children:[e.jsx("label",{className:"block text-orange-400 text-sm font-medium mb-2",children:"High"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:t.mitigationSLA.high,onChange:a=>n("high",parseInt(a.target.value)||0),min:"1",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"days"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[e.jsx("label",{className:"block text-amber-400 text-sm font-medium mb-2",children:"Medium"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:t.mitigationSLA.medium,onChange:a=>n("medium",parseInt(a.target.value)||0),min:"1",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"days"})]})]}),e.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[e.jsx("label",{className:"block text-emerald-400 text-sm font-medium mb-2",children:"Low"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:t.mitigationSLA.low,onChange:a=>n("low",parseInt(a.target.value)||0),min:"1",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"days"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200 dark:border-surface-700",children:[e.jsxs("h4",{className:"text-gray-900 dark:text-white font-medium flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5 text-blue-400"}),"Review Cycle SLAs by Risk Level"]}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Maximum interval between periodic risk reviews based on risk severity."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[e.jsx("label",{className:"block text-red-400 text-sm font-medium mb-2",children:"Critical"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:t.reviewCycleSLA.critical,onChange:a=>d("critical",parseInt(a.target.value)||0),min:"1",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"days"})]})]}),e.jsxs("div",{className:"p-4 bg-orange-500/10 border border-orange-500/30 rounded-lg",children:[e.jsx("label",{className:"block text-orange-400 text-sm font-medium mb-2",children:"High"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:t.reviewCycleSLA.high,onChange:a=>d("high",parseInt(a.target.value)||0),min:"1",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"days"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[e.jsx("label",{className:"block text-amber-400 text-sm font-medium mb-2",children:"Medium"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:t.reviewCycleSLA.medium,onChange:a=>d("medium",parseInt(a.target.value)||0),min:"1",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"days"})]})]}),e.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[e.jsx("label",{className:"block text-emerald-400 text-sm font-medium mb-2",children:"Low"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:t.reviewCycleSLA.low,onChange:a=>d("low",parseInt(a.target.value)||0),min:"1",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"days"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200 dark:border-surface-700",children:[e.jsxs("h4",{className:"text-gray-900 dark:text-white font-medium flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-purple-400"}),"Escalation & Breach Handling"]}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Configure how SLA breaches and near-breaches are handled."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white",children:"Enable Escalation Warnings"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Notify when SLA is approaching breach threshold"})]}),e.jsx("input",{type:"checkbox",checked:t.escalationEnabled,onChange:a=>i("escalationEnabled",a.target.checked),className:"rounded border-surface-600"})]}),t.escalationEnabled&&e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg ml-4 border-l-2 border-purple-500",children:[e.jsx("label",{className:"block text-gray-900 dark:text-white text-sm font-medium mb-2",children:"Escalation Threshold"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-xs mb-3",children:"Percentage of SLA time elapsed before warning is triggered"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:t.escalationThresholdPercent,onChange:a=>i("escalationThresholdPercent",parseInt(a.target.value)||0),min:"50",max:"99",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"%"}),e.jsxs("span",{className:"text-gray-400 dark:text-surface-500 text-xs",children:["(e.g., warn at ",t.escalationThresholdPercent,"% of 48 hours = ",Math.round(48*t.escalationThresholdPercent/100)," hours)"]})]})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white",children:"Auto-Escalate on Breach"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Automatically escalate to management when SLA is breached"})]}),e.jsx("input",{type:"checkbox",checked:t.autoEscalateOnBreach,onChange:a=>i("autoEscalateOnBreach",a.target.checked),className:"rounded border-surface-600"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white",children:"Breach Notifications"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"Send notifications when an SLA is breached"})]}),e.jsx("input",{type:"checkbox",checked:t.breachNotificationEnabled,onChange:a=>i("breachNotificationEnabled",a.target.checked),className:"rounded border-surface-600"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("label",{className:"block text-gray-900 dark:text-white text-sm font-medium mb-2",children:"Breach Grace Period"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-xs mb-3",children:"Additional time before a breach is marked as critical"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",value:t.breachGracePeriodHours,onChange:a=>i("breachGracePeriodHours",parseInt(a.target.value)||0),min:"0",className:"w-20 px-3 py-2 bg-white dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm"}),e.jsx("span",{className:"text-gray-500 dark:text-surface-400 text-sm",children:"hours"})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-brand-500/10 border border-brand-500/30 rounded-lg",children:[e.jsx("h4",{className:"text-brand-400 font-medium mb-3",children:"SLA Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-surface-400",children:"Total Workflow SLA"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:o(t.intakeToAssessment+t.assessmentDuration+t.grcReviewDuration+t.treatmentDecisionDuration)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-surface-400",children:"Critical Risk Mitigation"}),e.jsxs("p",{className:"text-gray-900 dark:text-white font-medium",children:[t.mitigationSLA.critical," days"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-surface-400",children:"Critical Risk Review Cycle"}),e.jsxs("p",{className:"text-gray-900 dark:text-white font-medium",children:[t.reviewCycleSLA.critical," days"]})]})]})]})]})}function M({config:r,onUpdate:x}){const[t,l]=m.useState(r.riskAppetite);m.useEffect(()=>{l(r.riskAppetite)},[r.riskAppetite]);const i=(d,o)=>{const a=t.map(s=>s.category===d?{...s,level:o}:s);l(a),x({riskAppetite:a})},n=d=>{switch(d){case"low":return"bg-emerald-500";case"medium":return"bg-amber-500";case"high":return"bg-red-500";default:return"bg-surface-500"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Risk Appetite"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm mb-4",children:"Define your organization's risk appetite for each category. This determines acceptable risk levels and influences treatment decisions."})]}),e.jsx("div",{className:"space-y-4",children:t.map(d=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${n(d.level)}`}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:d.category})]}),e.jsxs("select",{value:d.level,onChange:o=>i(d.category,o.target.value),className:"px-3 py-1 bg-gray-50 dark:bg-surface-700 border border-gray-300 dark:border-surface-600 rounded-lg text-gray-900 dark:text-white text-sm",children:[e.jsx("option",{value:"low",children:"Low Appetite"}),e.jsx("option",{value:"medium",children:"Medium Appetite"}),e.jsx("option",{value:"high",children:"High Appetite"})]})]}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm",children:d.description})]},d.category))}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-surface-700/50 rounded-lg",children:[e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium mb-3",children:"Appetite Legend"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-surface-300 text-sm",children:"Low - Minimal risk tolerance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),e.jsx("span",{className:"text-surface-300 text-sm",children:"Medium - Moderate risk tolerance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-surface-300 text-sm",children:"High - Aggressive risk tolerance"})]})]})]})]})}export{F as default};
