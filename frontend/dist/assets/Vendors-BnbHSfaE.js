import{k as f,r as d,b as p,j as e,l as h,M as x,t as j}from"./vendor-CWk44mA8.js";import{B as o,v as g}from"./index-CiJwl-Bo.js";import{a as N}from"./Skeleton-DVOICtGK.js";import{E as y}from"./ExportDropdown-ClBGGM80.js";import{e as b}from"./export-DqfI3kh9.js";import{u as w}from"./useDebounce-BWtFJvQ9.js";import"./vendor-http-B9ygI19o.js";import"./vendor-date-CWdg4M78.js";function z(){const c=f(),[t,m]=d.useState(""),a=w(t,300),{data:i,isLoading:u}=p({queryKey:["vendors",a],queryFn:()=>g.list({search:a||void 0,limit:25}).then(s=>s.data),staleTime:30*1e3}),r=d.useMemo(()=>{const s=i?.data||[];if(!t||t===a)return s;const l=t.toLowerCase();return s.filter(n=>n.name?.toLowerCase().includes(l)||n.category?.toLowerCase().includes(l))},[i?.data,t,a]);return u?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-surface-100",children:"Vendors"}),e.jsx("p",{className:"mt-1 text-surface-400",children:"Manage third-party vendor relationships and profiles"})]})}),e.jsx(N,{rows:8,columns:5})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-surface-100",children:"Vendors"}),e.jsx("p",{className:"mt-1 text-surface-400",children:"Manage third-party vendor relationships and profiles"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),e.jsx("input",{type:"text",placeholder:"Search vendors...",value:t,onChange:s=>m(s.target.value),className:"input pl-10 w-64"})]}),e.jsx(y,{data:r,columns:b.vendors,filename:"vendors",sheetName:"Vendors",disabled:r.length===0}),e.jsx(o,{onClick:()=>c("/vendors/new"),leftIcon:e.jsx(x,{className:"w-5 h-5"}),children:"Add Vendor"})]})]}),r.length===0?e.jsxs("div",{className:"bg-surface-900 border border-surface-800 rounded-lg p-12 text-center",children:[e.jsx(j,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:"No vendors yet"}),e.jsx("p",{className:"text-surface-500 mb-6",children:"Get started by adding your first vendor"}),e.jsx(o,{onClick:()=>c("/vendors/new"),leftIcon:e.jsx(x,{className:"w-5 h-5"}),children:"Add Vendor"})]}):e.jsx("div",{className:"bg-surface-900 border border-surface-800 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-surface-800 border-b border-surface-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Vendor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Tier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Risk Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-surface-800",children:r.map(s=>e.jsxs("tr",{onClick:()=>c(`/vendors/${s.id}`),className:"hover:bg-surface-800 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-surface-100",children:s.name}),e.jsx("div",{className:"text-sm text-surface-500",children:s.vendorId})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-surface-300 capitalize",children:s.category.replace("_"," ")}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-surface-700 text-surface-300 capitalize",children:s.tier.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4",children:s.inherentRiskScore?e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full capitalize ${s.inherentRiskScore==="critical"?"bg-red-500/20 text-red-400":s.inherentRiskScore==="high"?"bg-orange-500/20 text-orange-400":s.inherentRiskScore==="medium"?"bg-yellow-500/20 text-yellow-400":s.inherentRiskScore==="low"?"bg-green-500/20 text-green-400":"bg-surface-700 text-surface-300"}`,children:s.inherentRiskScore}):e.jsx("span",{className:"text-sm text-surface-500",children:"Not assessed"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full capitalize ${s.status==="active"?"bg-green-500/20 text-green-400":s.status==="inactive"?"bg-surface-700 text-surface-400":"bg-yellow-500/20 text-yellow-400"}`,children:s.status})})]},s.id))})]})})]})}export{z as default};
