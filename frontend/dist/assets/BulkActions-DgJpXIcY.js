import{r as n,j as e,m as p,ay as j,f as w,B as h}from"./vendor-CWk44mA8.js";import{B as b}from"./index-CiJwl-Bo.js";import{C}from"./Modal-BXiMOSLX.js";function k(a){const[l,o]=n.useState(new Set),d=n.useCallback(s=>l.has(s),[l]),i=n.useCallback(s=>{o(g=>{const u=new Set(g);return u.has(s)?u.delete(s):u.add(s),u})},[]),r=n.useCallback(()=>{o(new Set(a.map(s=>s.id)))},[a]),t=n.useCallback(()=>{o(new Set)},[]),c=n.useCallback(()=>{l.size===a.length?t():r()},[l.size,a.length,t,r]),f=n.useMemo(()=>a.filter(s=>l.has(s.id)),[a,l]),m=a.length>0&&l.size===a.length,x=l.size>0&&l.size<a.length;return{selectedIds:l,selectedItems:f,isSelected:d,toggle:i,selectAll:r,clearSelection:t,toggleAll:c,isAllSelected:m,isPartialSelected:x,count:l.size}}function y({checked:a,indeterminate:l,onChange:o,className:d,disabled:i}){const r=n.useRef(null);return n.useEffect(()=>{r.current&&(r.current.indeterminate=l||!1)},[l]),e.jsx("div",{className:h("flex items-center",d),children:e.jsx("input",{type:"checkbox",checked:a,ref:r,onChange:o,disabled:i,className:h("h-4 w-4 rounded bg-surface-700 border-surface-600","text-brand-600 focus:ring-brand-500 focus:ring-offset-0","disabled:opacity-50 disabled:cursor-not-allowed","cursor-pointer")})})}function z({selectedCount:a,totalCount:l,onClear:o,actions:d,onAction:i,isProcessing:r=!1,processingLabel:t="Processing..."}){const[c,f]=n.useState(null);if(a===0)return null;const m=s=>{s.requiresConfirmation?f(s):i(s.id)},x=()=>{c&&(i(c.id),f(null))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sticky top-0 z-40 bg-surface-800 border border-surface-700 rounded-lg p-3 flex items-center justify-between shadow-lg animate-slide-down",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:o,className:"p-1.5 hover:bg-surface-700 rounded-lg text-surface-400 transition-colors","aria-label":"Clear selection",children:e.jsx(p,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-surface-200 font-medium",children:[a," of ",l," selected"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:r?e.jsxs("div",{className:"flex items-center gap-2 text-surface-400",children:[e.jsx(j,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:t})]}):d.map(s=>e.jsx(b,{variant:s.variant||"secondary",size:"sm",onClick:()=>m(s),leftIcon:s.icon,disabled:r,children:s.label},s.id))})]}),e.jsx(C,{isOpen:!!c,onClose:()=>f(null),onConfirm:x,title:c?.label||"Confirm",message:c?.confirmMessage||`Are you sure you want to ${c?.label.toLowerCase()} ${a} item${a>1?"s":""}?`,confirmText:c?.label||"Confirm",confirmVariant:c?.variant==="danger"?"danger":"primary",isLoading:r})]})}function A({options:a,onSelect:l,disabled:o=!1,buttonText:d="Update Status"}){const[i,r]=n.useState(!1);return e.jsxs("div",{className:"relative",children:[e.jsx(b,{variant:"secondary",size:"sm",onClick:()=>r(!i),disabled:o,leftIcon:e.jsx(w,{className:"w-4 h-4"}),children:d}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-surface-800 border border-surface-700 rounded-lg shadow-xl z-50 overflow-hidden",children:a.map(t=>e.jsxs("button",{onClick:()=>{l(t.value),r(!1)},className:"w-full px-4 py-2.5 text-left text-sm text-surface-200 hover:bg-surface-700 flex items-center gap-2 transition-colors",children:[t.color&&e.jsx("span",{className:h("w-2 h-2 rounded-full",t.color)}),t.label]},t.value))})]})]})}export{z as B,A as S,y as a,k as u};
