import{aK as V,r as f,j as e,E as W,aO as B,a2 as q,bD as T,m as z,bA as O,S as E,R as H,X as k,aa as D,T as K,I as Q,ad as X,a_ as Y,A as Z,a5 as ee,bE as te,bF as se}from"./vendor-CWk44mA8.js";import{H as g,b as re,B as b}from"./index-CiJwl-Bo.js";import"./vendor-http-B9ygI19o.js";import"./vendor-date-CWdg4M78.js";const ae=30,v=t=>Math.ceil(t*ae/60),p=[{id:"phishing-smishing-vishing",title:"Phishing, Smishing & Vishing",description:"Learn to identify and defend against email phishing, SMS smishing, and voice vishing attacks with interactive simulators.",category:"social-engineering",duration:v(9),slides:9,path:"/training/phishing-smishing-vishing-training/enhanced-interactive-training.html",iconType:"phishing",topics:["Email phishing","SMS smishing","Voice vishing","Social engineering"],difficulty:"beginner"},{id:"ceo-executive-fraud",title:"CEO & Executive Fraud",description:"Recognize business email compromise and executive impersonation attacks with realistic chat simulations.",category:"social-engineering",duration:v(6),slides:6,path:"/training/ceo-executive-fraud-training/enhanced-interactive-training.html",iconType:"executive",topics:["BEC attacks","Impersonation","Wire fraud","Urgency tactics"],difficulty:"intermediate"},{id:"watering-hole-attacks",title:"Watering Hole Attacks",description:"Understand website-based attacks and learn to identify compromised sites and malicious URLs.",category:"social-engineering",duration:v(9),slides:9,path:"/training/watering-hole-attacks-training/enhanced-interactive-training.html",iconType:"watering-hole",topics:["Website infections","URL detection","Incident response","Browser security"],difficulty:"intermediate"},{id:"general-cybersecurity",title:"General Cybersecurity",description:"Master core security concepts including ransomware, device security, password best practices, and software updates.",category:"general",duration:v(10),slides:10,path:"/training/general-cybersecurity-training/enhanced-interactive-training.html",iconType:"security",topics:["Ransomware","Device security","Passwords","Software updates"],difficulty:"beginner"},{id:"privacy-awareness",title:"Privacy Awareness",description:"Learn data privacy fundamentals including GDPR, CCPA compliance, data classification, and privacy best practices.",category:"privacy",duration:v(10),slides:10,path:"/training/privacy-awareness-training/enhanced-interactive-training.html",iconType:"privacy",topics:["GDPR","CCPA","Data classification","Privacy breach response"],difficulty:"beginner"},{id:"secure-coding",title:"Secure Coding (OWASP Top 10)",description:"For developers: Interactive exploration of OWASP Top 10 vulnerabilities with SQL injection labs and code review exercises.",category:"secure-coding",duration:v(6),slides:6,path:"/training/secure-coding-training/enhanced-interactive-training.html",iconType:"code",prerequisites:["general-cybersecurity"],topics:["OWASP Top 10","SQL injection","Code review","Dependency scanning"],difficulty:"advanced"}],w={id:"combined-training",title:"Complete Security & Privacy Training",description:"Comprehensive training covering all six modules in a single unified interface. Recommended for annual compliance training.",category:"general",duration:v(50),slides:50,path:"/training/cybersecurity-privacy-training-combined.html",iconType:"comprehensive",topics:["Social Engineering","Privacy","Secure Coding","General Security"],difficulty:"intermediate"},l={PROGRESS:"grc_training_progress",ASSIGNMENTS:"grc_training_assignments",CAMPAIGNS:"grc_training_campaigns"},y={getModules:()=>p,getModule:t=>t==="combined-training"?w:p.find(s=>s.id===t),getCombinedModule:()=>w,getProgress:async t=>{try{return((await g.getProgress()).data||[]).map(a=>({moduleId:a.moduleId,userId:a.userId,status:a.status,startedAt:a.startedAt,completedAt:a.completedAt,score:a.score,slideProgress:a.slideProgress,timeSpent:a.timeSpent,lastAccessedAt:a.lastAccessedAt}))}catch{const s=localStorage.getItem(l.PROGRESS);return(s?JSON.parse(s):[]).filter(r=>r.userId===t)}},getModuleProgress:async(t,s)=>{try{const r=(await g.getModuleProgress(s)).data;return r?{moduleId:r.moduleId,userId:r.userId,status:r.status,startedAt:r.startedAt,completedAt:r.completedAt,score:r.score,slideProgress:r.slideProgress,timeSpent:r.timeSpent,lastAccessedAt:r.lastAccessedAt}:void 0}catch{return(await y.getProgress(t)).find(r=>r.moduleId===s)}},updateProgress:async t=>{try{await g.updateProgress(t.moduleId,{status:t.status,score:t.score,slideProgress:t.slideProgress,timeSpent:t.timeSpent})}catch{const s=localStorage.getItem(l.PROGRESS),a=s?JSON.parse(s):[],r=a.findIndex(i=>i.userId===t.userId&&i.moduleId===t.moduleId);r>=0?a[r]={...a[r],...t,lastAccessedAt:new Date().toISOString()}:a.push({...t,lastAccessedAt:new Date().toISOString()}),localStorage.setItem(l.PROGRESS,JSON.stringify(a))}},startModule:async(t,s)=>{try{const r=(await g.startModule(s)).data;return{moduleId:r.moduleId,userId:r.userId,status:r.status,startedAt:r.startedAt,completedAt:r.completedAt,score:r.score,slideProgress:r.slideProgress,timeSpent:r.timeSpent,lastAccessedAt:r.lastAccessedAt}}catch{const a={moduleId:s,userId:t,status:"in_progress",startedAt:new Date().toISOString(),slideProgress:0,timeSpent:0,lastAccessedAt:new Date().toISOString()};return await y.updateProgress(a),a}},completeModule:async(t,s,a)=>{try{const i=(await g.completeModule(s,a)).data;return{moduleId:i.moduleId,userId:i.userId,status:i.status,startedAt:i.startedAt,completedAt:i.completedAt,score:i.score,slideProgress:i.slideProgress,timeSpent:i.timeSpent,lastAccessedAt:i.lastAccessedAt}}catch{const i={...await y.getModuleProgress(t,s)||{moduleId:s,userId:t,slideProgress:100,timeSpent:0},status:"completed",completedAt:new Date().toISOString(),score:a,slideProgress:100};return await y.updateProgress(i),i}},getAssignments:async t=>{try{return(await g.getMyAssignments()).data||[]}catch{const s=localStorage.getItem(l.ASSIGNMENTS);return(s?JSON.parse(s):[]).filter(r=>r.userId===t)}},createAssignment:async t=>{try{return(await g.createAssignment({userId:t.userId,moduleId:t.moduleId,dueDate:t.dueDate,isRequired:t.isRequired})).data}catch{const s=localStorage.getItem(l.ASSIGNMENTS),a=s?JSON.parse(s):[],r={...t,id:crypto.randomUUID()};return a.push(r),localStorage.setItem(l.ASSIGNMENTS,JSON.stringify(a)),r}},updateAssignment:async(t,s)=>{try{await g.updateAssignment(t,{status:s.status,dueDate:s.dueDate,isRequired:s.isRequired})}catch{const a=localStorage.getItem(l.ASSIGNMENTS),r=a?JSON.parse(a):[],i=r.findIndex(n=>n.id===t);i>=0&&(r[i]={...r[i],...s},localStorage.setItem(l.ASSIGNMENTS,JSON.stringify(r)))}},getStats:async t=>{try{return(await g.getStats()).data}catch{const s=await y.getProgress(t),a=s.filter(o=>o.status==="completed"),r=s.filter(o=>o.status==="in_progress"),i=s.reduce((o,x)=>o+x.timeSpent,0),n=a.length>0?a.reduce((o,x)=>o+(x.score||0),0)/a.length:0,d=a.length*100+r.length*25,m=Math.floor(d/200)+1;return{totalModules:p.length,completedModules:a.length,inProgressModules:r.length,totalTimeSpent:i,averageScore:Math.round(n),certificationsEarned:a.length,streak:0,xp:d,level:m}}},getCampaigns:async()=>{try{return(await g.getCampaigns()).data||[]}catch{const t=localStorage.getItem(l.CAMPAIGNS);return t?JSON.parse(t):[]}},createCampaign:async t=>{try{return(await g.createCampaign({name:t.name,description:t.description,moduleIds:t.moduleIds,targetGroups:t.targetGroups,startDate:t.startDate,endDate:t.endDate,isActive:t.isActive})).data}catch{const s=localStorage.getItem(l.CAMPAIGNS),a=s?JSON.parse(s):[],r={...t,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return a.push(r),localStorage.setItem(l.CAMPAIGNS,JSON.stringify(a)),r}}},N={getModules:y.getModules,getModule:y.getModule,getCombinedModule:y.getCombinedModule,getProgress:t=>{const s=localStorage.getItem(l.PROGRESS);return(s?JSON.parse(s):[]).filter(r=>r.userId===t)},getModuleProgress:(t,s)=>N.getProgress(t).find(r=>r.moduleId===s),updateProgress:t=>{y.updateProgress(t).catch(()=>{});const s=localStorage.getItem(l.PROGRESS),a=s?JSON.parse(s):[],r=a.findIndex(i=>i.userId===t.userId&&i.moduleId===t.moduleId);r>=0?a[r]={...a[r],...t,lastAccessedAt:new Date().toISOString()}:a.push({...t,lastAccessedAt:new Date().toISOString()}),localStorage.setItem(l.PROGRESS,JSON.stringify(a))},startModule:(t,s)=>{const a={moduleId:s,userId:t,status:"in_progress",startedAt:new Date().toISOString(),slideProgress:0,timeSpent:0,lastAccessedAt:new Date().toISOString()};return N.updateProgress(a),g.startModule(s).catch(()=>{}),a},completeModule:(t,s,a)=>{const i={...N.getModuleProgress(t,s)||{moduleId:s,userId:t,slideProgress:100,timeSpent:0},status:"completed",completedAt:new Date().toISOString(),score:a,slideProgress:100};return N.updateProgress(i),g.completeModule(s,a).catch(()=>{}),i},getAssignments:t=>{const s=localStorage.getItem(l.ASSIGNMENTS);return(s?JSON.parse(s):[]).filter(r=>r.userId===t)},createAssignment:t=>{const s=localStorage.getItem(l.ASSIGNMENTS),a=s?JSON.parse(s):[],r={...t,id:crypto.randomUUID()};return a.push(r),localStorage.setItem(l.ASSIGNMENTS,JSON.stringify(a)),r},updateAssignment:(t,s)=>{const a=localStorage.getItem(l.ASSIGNMENTS),r=a?JSON.parse(a):[],i=r.findIndex(n=>n.id===t);i>=0&&(r[i]={...r[i],...s},localStorage.setItem(l.ASSIGNMENTS,JSON.stringify(r)))},getStats:t=>{const s=N.getProgress(t),a=s.filter(o=>o.status==="completed"),r=s.filter(o=>o.status==="in_progress"),i=s.reduce((o,x)=>o+x.timeSpent,0),n=a.length>0?a.reduce((o,x)=>o+(x.score||0),0)/a.length:0,d=a.length*100+r.length*25,m=Math.floor(d/200)+1;return{totalModules:p.length,completedModules:a.length,inProgressModules:r.length,totalTimeSpent:i,averageScore:Math.round(n),certificationsEarned:a.length,streak:0,xp:d,level:m}},getCampaigns:()=>{const t=localStorage.getItem(l.CAMPAIGNS);return t?JSON.parse(t):[]},createCampaign:t=>{const s=localStorage.getItem(l.CAMPAIGNS),a=s?JSON.parse(s):[],r={...t,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return a.push(r),localStorage.setItem(l.CAMPAIGNS,JSON.stringify(a)),r}};function G(t){switch(t){case"beginner":return"text-emerald-400 bg-emerald-400/10 border border-emerald-400/20";case"intermediate":return"text-amber-400 bg-amber-400/10 border border-amber-400/20";case"advanced":return"text-rose-400 bg-rose-400/10 border border-rose-400/20"}}function $(t){switch(t){case"social-engineering":return"Social Engineering";case"privacy":return"Privacy";case"secure-coding":return"Secure Coding";case"general":return"General Security"}}function I(t){if(t<60)return`${t} min`;const s=Math.floor(t/60),a=t%60;return a>0?`${s}h ${a}m`:`${s}h`}const h=N;function j({type:t,className:s="w-6 h-6"}){switch(t){case"phishing":return e.jsx(se,{className:s});case"executive":return e.jsx(te,{className:s});case"watering-hole":return e.jsx(ee,{className:s});case"security":return e.jsx(Z,{className:s});case"privacy":return e.jsx(Y,{className:s});case"code":return e.jsx(X,{className:s});case"comprehensive":return e.jsx(Q,{className:s});default:return e.jsx(k,{className:s})}}function xe(){const{user:t}=re(),[s,a]=V(),[r,i]=f.useState("catalog"),[n,d]=f.useState(null),[m,o]=f.useState([]),[x,P]=f.useState(null),[M,F]=f.useState("all"),u=t?.id||"dev-user";f.useEffect(()=>{o(h.getProgress(u)),P(h.getStats(u))},[u]),f.useEffect(()=>{const c=s.get("module");if(c){const S=c==="combined"?w:p.find(U=>U.id===c);S&&(d(S),i("viewer"))}},[s]);const C=c=>{d(c),i("viewer"),a({module:c.id==="combined-training"?"combined":c.id});const S=h.getModuleProgress(u,c.id);(!S||S.status==="not_started")&&(h.startModule(u,c.id),o(h.getProgress(u)))},J=()=>{d(null),i("catalog"),a({}),P(h.getStats(u)),o(h.getProgress(u))},_=()=>{n&&(h.completeModule(u,n.id,100),P(h.getStats(u)),o(h.getProgress(u)))},R=c=>m.find(S=>S.moduleId===c),L=M==="all"?p:p.filter(c=>c.category===M);return r==="viewer"&&n?e.jsx(ce,{module:n,onClose:J,onComplete:_,progress:R(n.id)}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Security Awareness Training"}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 mt-1",children:"Interactive training modules for security, privacy, and compliance"})]}),e.jsx(b,{variant:r==="progress"?"primary":"secondary",onClick:()=>i(r==="progress"?"catalog":"progress"),leftIcon:e.jsx(W,{className:"w-5 h-5"}),children:r==="progress"?"View Catalog":"My Progress"})]}),x&&e.jsx(ie,{stats:x}),r==="progress"?e.jsx(le,{progress:m,onStartModule:C}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{module:w,onStart:C,progress:R(w.id)}),e.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-200 dark:border-surface-700 pb-4",children:[e.jsx("span",{className:"text-gray-500 dark:text-surface-500 text-sm font-medium",children:"Filter:"}),e.jsx("div",{className:"flex gap-1",children:["all","social-engineering","privacy","secure-coding","general"].map(c=>e.jsx("button",{onClick:()=>F(c),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${M===c?"bg-brand-500/10 text-brand-500 dark:text-brand-400 border border-brand-500/30":"text-gray-600 dark:text-surface-400 hover:text-gray-900 dark:hover:text-surface-200 hover:bg-gray-100 dark:hover:bg-surface-800"}`,children:c==="all"?"All Modules":$(c)},c))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:L.map(c=>e.jsx(de,{module:c,progress:R(c.id),onStart:()=>C(c)},c.id))})]})]})}function ie({stats:t}){const s=Math.round(t.completedModules/t.totalModules*100);return e.jsxs("div",{className:"bg-white/50 dark:bg-surface-800/50 rounded-xl border border-gray-200 dark:border-surface-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Training Progress"}),e.jsxs("span",{className:"text-2xl font-bold text-brand-500 dark:text-brand-400",children:[s,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 dark:bg-surface-700 rounded-full overflow-hidden mb-6",children:e.jsx("div",{className:"h-full bg-brand-500 transition-all duration-500",style:{width:`${s}%`}})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsx(A,{label:"Completed",value:t.completedModules,total:t.totalModules}),e.jsx(A,{label:"In Progress",value:t.inProgressModules}),e.jsx(A,{label:"Time Invested",value:I(t.totalTimeSpent)}),e.jsx(A,{label:"Certificates",value:t.certificationsEarned})]})]})}function A({label:t,value:s,total:a}){return e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[s,a!==void 0&&e.jsxs("span",{className:"text-gray-500 dark:text-surface-500 text-lg",children:["/",a]})]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-surface-400",children:t})]})}function ne({module:t,onStart:s,progress:a}){const r=a?.status==="completed";return e.jsx("div",{className:"bg-gradient-to-br from-brand-500/10 via-white dark:via-surface-800 to-white dark:to-surface-800 rounded-xl border border-brand-500/20 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[e.jsx("div",{className:"p-4 bg-brand-500/10 rounded-xl border border-brand-500/20",children:e.jsx(j,{type:t.iconType,className:"w-10 h-10 text-brand-500 dark:text-brand-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"px-2 py-1 bg-brand-500/20 text-brand-500 dark:text-brand-400 rounded text-xs font-medium",children:"Recommended"}),r&&e.jsxs("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-600 dark:text-emerald-400 rounded text-xs font-medium flex items-center gap-1",children:[e.jsx(T,{className:"w-3 h-3"})," Completed"]})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t.title}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 mb-4",children:t.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 dark:text-surface-500",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(k,{className:"w-4 h-4"})," ",t.slides," slides"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(D,{className:"w-4 h-4"})," ",I(t.duration)]}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${G(t.difficulty)}`,children:t.difficulty.charAt(0).toUpperCase()+t.difficulty.slice(1)})]})]}),e.jsx(b,{onClick:()=>s(t),size:"lg",variant:r?"secondary":"primary",rightIcon:e.jsx(K,{className:"w-4 h-4"}),children:r?"Review Training":"Start Training"})]})})}function de({module:t,progress:s,onStart:a}){const r=s?.status==="completed",i=s?.status==="in_progress";return e.jsxs("div",{className:"bg-white dark:bg-surface-800 rounded-xl border border-gray-200 dark:border-surface-700 overflow-hidden hover:border-gray-300 dark:hover:border-surface-600 transition-all group",children:[e.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-surface-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-surface-700/50 rounded-lg group-hover:bg-brand-500/10 transition-colors",children:e.jsx(j,{type:t.iconType,className:"w-6 h-6 text-gray-500 dark:text-surface-300 group-hover:text-brand-500 dark:group-hover:text-brand-400 transition-colors"})}),r&&e.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400 text-xs font-medium",children:[e.jsx(T,{className:"w-4 h-4"}),"Complete"]}),i&&!r&&e.jsxs("div",{className:"flex items-center gap-1.5 text-amber-400 text-xs font-medium",children:[e.jsx(O,{className:"w-4 h-4"}),"In Progress"]})]}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-1.5 group-hover:text-brand-500 dark:group-hover:text-brand-400 transition-colors",children:t.title}),e.jsx("p",{className:"text-gray-500 dark:text-surface-400 text-sm line-clamp-2",children:t.description})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-surface-500 bg-gray-100 dark:bg-surface-700/50 px-2 py-1 rounded",children:$(t.category)}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${G(t.difficulty)}`,children:t.difficulty})]}),s&&s.slideProgress>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-surface-500 mb-1.5",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.slideProgress,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-surface-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${r?"bg-emerald-500":"bg-brand-500"} transition-all`,style:{width:`${s.slideProgress}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-surface-500 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(k,{className:"w-4 h-4"})," ",t.slides," slides"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(D,{className:"w-4 h-4"})," ",I(t.duration)]})]}),e.jsx(b,{onClick:a,variant:r?"secondary":"primary",className:"w-full",leftIcon:r?e.jsx(E,{className:"w-4 h-4"}):e.jsx(O,{className:"w-4 h-4"}),children:r?"Review":i?"Continue":"Start"})]})]})}function ce({module:t,onClose:s,onComplete:a,progress:r}){const[i,n]=f.useState(!1);return f.useEffect(()=>{const d=m=>{m.data?.type==="trainingComplete"&&a()};return window.addEventListener("message",d),()=>window.removeEventListener("message",d)},[a]),e.jsxs("div",{className:`${i?"fixed inset-0 z-50":""} bg-gray-100 dark:bg-surface-900`,children:[e.jsxs("div",{className:"bg-white dark:bg-surface-800 border-b border-gray-200 dark:border-surface-700 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(b,{variant:"ghost",onClick:s,leftIcon:e.jsx(B,{className:"w-5 h-5"}),children:"Back"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-surface-700 rounded-lg",children:e.jsx(j,{type:t.iconType,className:"w-5 h-5 text-brand-500 dark:text-brand-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-surface-500",children:[I(t.duration)," â€¢ ",t.slides," slides"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r?.status!=="completed"&&e.jsx(b,{variant:"secondary",onClick:a,leftIcon:e.jsx(q,{className:"w-4 h-4"}),children:"Mark Complete"}),r?.status==="completed"&&e.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-500 dark:text-emerald-400 text-sm font-medium px-3",children:[e.jsx(T,{className:"w-4 h-4"}),"Completed"]}),e.jsx("button",{onClick:()=>n(!i),className:"p-2 text-gray-500 dark:text-surface-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-surface-700 rounded-lg transition-colors",title:i?"Exit fullscreen":"Fullscreen",children:i?e.jsx(z,{className:"w-5 h-5"}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})]}),e.jsx("div",{className:`${i?"h-[calc(100vh-60px)]":"h-[calc(100vh-180px)]"}`,children:e.jsx("iframe",{src:t.path,className:"w-full h-full border-0",title:t.title,allow:"fullscreen"})})]})}function le({progress:t,onStartModule:s}){const a=p.filter(n=>t.find(d=>d.moduleId===n.id&&d.status==="completed")),r=p.filter(n=>t.find(d=>d.moduleId===n.id&&d.status==="in_progress")),i=p.filter(n=>!t.find(d=>d.moduleId===n.id));return e.jsxs("div",{className:"space-y-8",children:[r.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-amber-500 dark:text-amber-400"}),"In Progress",e.jsxs("span",{className:"text-gray-500 dark:text-surface-500 font-normal",children:["(",r.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:r.map(n=>{const d=t.find(m=>m.moduleId===n.id);return e.jsxs("div",{className:"bg-white dark:bg-surface-800 rounded-xl border border-gray-200 dark:border-surface-700 p-4 flex items-center gap-4",children:[e.jsx("div",{className:"p-2.5 bg-amber-500/10 rounded-lg",children:e.jsx(j,{type:n.iconType,className:"w-5 h-5 text-amber-500 dark:text-amber-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium truncate",children:n.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 dark:bg-surface-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-500",style:{width:`${d?.slideProgress||0}%`}})}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-surface-500 w-10",children:[d?.slideProgress||0,"%"]})]})]}),e.jsx(b,{variant:"primary",onClick:()=>s(n),children:"Continue"})]},n.id)})})]}),a.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-emerald-500 dark:text-emerald-400"}),"Completed",e.jsxs("span",{className:"text-gray-500 dark:text-surface-500 font-normal",children:["(",a.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(n=>{const d=t.find(m=>m.moduleId===n.id);return e.jsxs("div",{className:"bg-white dark:bg-surface-800 rounded-xl border border-emerald-500/20 p-4",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:e.jsx(j,{type:n.iconType,className:"w-5 h-5 text-emerald-500 dark:text-emerald-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium truncate",children:n.title}),d?.completedAt&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-surface-500 mt-0.5",children:new Date(d.completedAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-surface-700",children:[e.jsxs("span",{className:"text-emerald-500 dark:text-emerald-400 text-xs font-medium flex items-center gap-1",children:[e.jsx(H,{className:"w-3.5 h-3.5"})," Certificate Earned"]}),e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>s(n),children:"Review"})]})]},n.id)})})]}),i.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-gray-500 dark:text-surface-500"}),"Not Started",e.jsxs("span",{className:"text-gray-500 dark:text-surface-500 font-normal",children:["(",i.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(n=>e.jsxs("div",{className:"bg-white dark:bg-surface-800 rounded-xl border border-gray-200 dark:border-surface-700 p-4 flex items-center gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-surface-700/50 rounded-lg",children:e.jsx(j,{type:n.iconType,className:"w-5 h-5 text-gray-500 dark:text-surface-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium truncate",children:n.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-surface-500",children:I(n.duration)})]}),e.jsx(b,{variant:"secondary",onClick:()=>s(n),children:"Start"})]},n.id))})]})]})}export{xe as default};
