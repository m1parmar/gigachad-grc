import{u as N,r as u,b as v,c as p,j as e,ay as w,aa as y,J as k,X as A,a5 as S,R as C,B as j,aD as f,f as g,v as T}from"./vendor-CWk44mA8.js";import{b as F,B as x,E as h}from"./index-CiJwl-Bo.js";import"./vendor-http-B9ygI19o.js";import"./vendor-date-CWdg4M78.js";const I=[{id:"sla",label:"SLA Settings",icon:y},{id:"assignment",label:"Assignment",icon:k},{id:"kb",label:"Knowledge Base",icon:A},{id:"trust-center",label:"Trust Center",icon:S},{id:"ai",label:"AI Features",icon:C}];function z(){const{user:d}=F(),o=N(),i=d?.organizationId||"default-org",[s,c]=u.useState("sla"),{data:a,isLoading:r}=v({queryKey:["trust-config",i],queryFn:async()=>(await h.get(i)).data}),l=p({mutationFn:async n=>(await h.update(n,i)).data,onSuccess:()=>{o.invalidateQueries({queryKey:["trust-config"]}),f.success("Configuration saved successfully")},onError:()=>{f.error("Failed to save configuration")}}),t=p({mutationFn:async()=>(await h.reset(i)).data,onSuccess:()=>{o.invalidateQueries({queryKey:["trust-config"]}),f.success("Configuration reset to defaults")},onError:()=>{f.error("Failed to reset configuration")}});return r?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-surface-700 rounded w-48 mb-4"}),e.jsx("div",{className:"h-64 bg-surface-800 rounded"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-surface-100",children:"Trust Configuration"}),e.jsx("p",{className:"mt-1 text-surface-400",children:"Configure SLAs, assignments, and features for the Trust module"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(x,{variant:"outline",onClick:()=>t.mutate(),isLoading:t.isPending,leftIcon:e.jsx(w,{className:"w-4 h-4"}),children:"Reset to Defaults"})})]}),e.jsx("div",{className:"border-b border-surface-700",children:e.jsx("nav",{className:"flex gap-6",children:I.map(n=>e.jsxs("button",{onClick:()=>c(n.id),className:j("flex items-center gap-2 px-1 py-3 text-sm font-medium border-b-2 transition-colors",s===n.id?"border-brand-500 text-brand-400":"border-transparent text-surface-400 hover:text-surface-200"),children:[e.jsx(n.icon,{className:"w-4 h-4"}),n.label]},n.id))})}),e.jsxs("div",{className:"bg-surface-900 border border-surface-800 rounded-xl p-6",children:[s==="sla"&&a&&e.jsx(E,{config:a,onUpdate:n=>{l.mutate({slaSettings:n})},isUpdating:l.isPending}),s==="assignment"&&a&&e.jsx(R,{config:a,onUpdate:n=>{l.mutate({assignmentSettings:n})},isUpdating:l.isPending}),s==="kb"&&a&&e.jsx(q,{config:a,onUpdate:n=>{l.mutate({kbSettings:n})},isUpdating:l.isPending}),s==="trust-center"&&a&&e.jsx(H,{config:a,onUpdate:n=>{l.mutate({trustCenterSettings:n})},isUpdating:l.isPending}),s==="ai"&&a&&e.jsx(U,{config:a,onUpdate:n=>{l.mutate({aiSettings:n})},isUpdating:l.isPending})]})]})}function E({config:d,onUpdate:o,isUpdating:i}){const[s,c]=u.useState(d.slaSettings),a=["urgent","high","medium","low"],r=(t,n,m)=>{c(b=>({...b,[t]:{...b[t],[n]:m}}))},l=t=>{if(t<24)return`${t} hours`;const n=Math.floor(t/24),m=t%24;return m===0?`${n} day${n>1?"s":""}`:`${n}d ${m}h`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2",children:"SLA Targets by Priority"}),e.jsx("p",{className:"text-sm text-surface-400",children:'Define target response times for questionnaires based on priority level. The warning threshold triggers "At Risk" status.'})]}),e.jsx("div",{className:"space-y-4",children:a.map(t=>e.jsxs("div",{className:"bg-surface-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:j("px-3 py-1 text-sm font-medium rounded-full capitalize",t==="urgent"?"bg-red-500/20 text-red-400":t==="high"?"bg-orange-500/20 text-orange-400":t==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-surface-700 text-surface-300"),children:t}),e.jsxs("span",{className:"text-xs text-surface-500",children:["Current: ",l(s[t].targetHours)," target, ",l(s[t].warningHours)," warning"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Target Time (hours)"}),e.jsx("input",{type:"number",min:"1",value:s[t].targetHours,onChange:n=>r(t,"targetHours",parseInt(n.target.value)||1),className:"w-full px-3 py-2 bg-surface-900 border border-surface-600 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-1",children:"Warning Threshold (hours)"}),e.jsx("input",{type:"number",min:"1",max:s[t].targetHours-1,value:s[t].warningHours,onChange:n=>r(t,"warningHours",parseInt(n.target.value)||1),className:"w-full px-3 py-2 bg-surface-900 border border-surface-600 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-surface-500 mb-1",children:[e.jsx("span",{children:"0h"}),e.jsx("div",{className:"flex-1"}),e.jsx("span",{children:l(s[t].targetHours)})]}),e.jsxs("div",{className:"h-3 bg-surface-700 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"bg-green-500/60 h-full",style:{width:`${s[t].warningHours/s[t].targetHours*100}%`},title:"On Track zone"}),e.jsx("div",{className:"bg-amber-500/60 h-full",style:{width:`${(s[t].targetHours-s[t].warningHours)/s[t].targetHours*100}%`},title:"At Risk zone"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"On Track"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500"}),"At Risk"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Breached (past target)"]})]})]})]},t))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{onClick:()=>o(s),isLoading:i,leftIcon:e.jsx(g,{className:"w-4 h-4"}),children:"Save SLA Settings"})})]})}function R({config:d,onUpdate:o,isUpdating:i}){const[s,c]=u.useState(d.assignmentSettings);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2",children:"Assignment Settings"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Configure how questionnaires and questions are assigned to team members."})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.enableAutoAssignment,onChange:a=>c(r=>({...r,enableAutoAssignment:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"Enable Auto-Assignment"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Automatically assign new questionnaires to team members based on workload"})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{onClick:()=>o(s),isLoading:i,leftIcon:e.jsx(g,{className:"w-4 h-4"}),children:"Save Assignment Settings"})})]})}function q({config:d,onUpdate:o,isUpdating:i}){const[s,c]=u.useState(d.kbSettings);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2",children:"Knowledge Base Settings"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Configure how the knowledge base works for answer suggestions and quality control."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.requireApprovalForNewEntries,onChange:a=>c(r=>({...r,requireApprovalForNewEntries:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"Require Approval for New Entries"}),e.jsx("p",{className:"text-sm text-surface-400",children:"New knowledge base entries must be approved before they can be used"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.autoSuggestFromKB,onChange:a=>c(r=>({...r,autoSuggestFromKB:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"Auto-Suggest from Knowledge Base"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Automatically show relevant KB entries when answering questions"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.trackUsageMetrics,onChange:a=>c(r=>({...r,trackUsageMetrics:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"Track Usage Metrics"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Track how often KB entries are used to identify popular answers"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{onClick:()=>o(s),isLoading:i,leftIcon:e.jsx(g,{className:"w-4 h-4"}),children:"Save KB Settings"})})]})}function H({config:d,onUpdate:o,isUpdating:i}){const[s,c]=u.useState(d.trustCenterSettings);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2",children:"Trust Center Settings"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Configure your public-facing trust center portal."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.enabled,onChange:a=>c(r=>({...r,enabled:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"Enable Trust Center"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Make your trust center publicly accessible"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.allowAnonymousAccess,onChange:a=>c(r=>({...r,allowAnonymousAccess:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"Allow Anonymous Access"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Allow visitors to view the trust center without logging in"})]})]}),e.jsxs("div",{className:"p-4 bg-surface-800 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-surface-400 mb-2",children:"Custom Domain (optional)"}),e.jsx("input",{type:"text",value:s.customDomain||"",onChange:a=>c(r=>({...r,customDomain:a.target.value||null})),placeholder:"trust.yourcompany.com",className:"w-full px-3 py-2 bg-surface-900 border border-surface-600 rounded-lg text-surface-100 focus:outline-none focus:border-brand-500"}),e.jsx("p",{className:"text-xs text-surface-500 mt-1",children:"Point a CNAME record to your trust center URL"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{onClick:()=>o(s),isLoading:i,leftIcon:e.jsx(g,{className:"w-4 h-4"}),children:"Save Trust Center Settings"})})]})}function U({config:d,onUpdate:o,isUpdating:i}){const[s,c]=u.useState(d.aiSettings);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2",children:"AI Features"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Enable optional AI-powered features to assist trust analysts."})]}),!s.enabled&&e.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[e.jsx(T,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-amber-200 font-medium",children:"AI Features Disabled"}),e.jsx("p",{className:"text-xs text-amber-300/80 mt-1",children:"Enable AI to unlock auto-categorization and answer suggestions. Requires AI provider configuration in system settings."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.enabled,onChange:a=>c(r=>({...r,enabled:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"Enable AI Features"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Turn on AI-powered assistance for the Trust module"})]})]}),s.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.autoCategorizationEnabled,onChange:a=>c(r=>({...r,autoCategorizationEnabled:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"Auto-Categorization"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Automatically categorize incoming questions (Security, Privacy, Compliance, etc.)"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-surface-800 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.answerSuggestionsEnabled,onChange:a=>c(r=>({...r,answerSuggestionsEnabled:a.target.checked})),className:"w-5 h-5 rounded border-surface-600 text-brand-500 focus:ring-brand-500 focus:ring-offset-surface-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-100",children:"AI Answer Suggestions"}),e.jsx("p",{className:"text-sm text-surface-400",children:"Generate draft answers using AI based on your knowledge base"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{onClick:()=>o(s),isLoading:i,leftIcon:e.jsx(g,{className:"w-4 h-4"}),children:"Save AI Settings"})})]})}export{z as default};
