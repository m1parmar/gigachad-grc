import{aS as k,r as D,b as T,j as e,L as w,aO as E,aC as u,A as L,I,bX as A,af as R,y as S,bF as B,aZ as q,c4 as M,c5 as U,aF as z,S as c,v as x,aM as v,ay as O,aa as y}from"./vendor-CWk44mA8.js";import{O as P}from"./index-CiJwl-Bo.js";import"./vendor-http-B9ygI19o.js";import"./vendor-date-CWdg4M78.js";const _=[{id:"overview",label:"Overview",icon:u},{id:"background",label:"Background Check",icon:L},{id:"training",label:"Training",icon:I},{id:"assets",label:"Assets",icon:A},{id:"access",label:"Access",icon:R},{id:"attestations",label:"Attestations",icon:S}];function a(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"—"}function H(t){return t===void 0?"text-gray-400":t>=80?"text-green-500":t>=60?"text-yellow-500":"text-red-500"}function K(t){return t===void 0?"bg-gray-500/20":t>=80?"bg-green-500/20":t>=60?"bg-yellow-500/20":"bg-red-500/20"}function o({status:t}){if(!t)return e.jsx("span",{className:"text-muted-foreground text-sm",children:"—"});const l={clear:{color:"bg-green-500/20 text-green-400",icon:c},completed:{color:"bg-green-500/20 text-green-400",icon:c},acknowledged:{color:"bg-green-500/20 text-green-400",icon:c},approved:{color:"bg-green-500/20 text-green-400",icon:c},pending:{color:"bg-yellow-500/20 text-yellow-400",icon:y},assigned:{color:"bg-blue-500/20 text-blue-400",icon:y},in_progress:{color:"bg-blue-500/20 text-blue-400",icon:O},flagged:{color:"bg-red-500/20 text-red-400",icon:v},overdue:{color:"bg-red-500/20 text-red-400",icon:x},declined:{color:"bg-red-500/20 text-red-400",icon:v}}[t]||{color:"bg-gray-500/20 text-gray-400",icon:x},r=l.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${l.color}`,children:[e.jsx(r,{className:"h-3 w-3"}),t.replace("_"," ").replace(/\b\w/g,i=>i.toUpperCase())]})}function Q(){return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-surface-700 h-9 w-9 animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-8 w-48 bg-surface-700 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-64 bg-surface-700 rounded animate-pulse"})]}),e.jsx("div",{className:"h-20 w-20 rounded-full bg-surface-700 animate-pulse"})]}),e.jsx("div",{className:"h-12 bg-surface-700 rounded animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[1,2,3].map(t=>e.jsx("div",{className:"card p-6 h-48 bg-surface-700 animate-pulse"},t))})]})}function V(){return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(u,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Employee Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The employee you're looking for doesn't exist or has been removed."}),e.jsx(w,{to:"/people",className:"btn btn-primary",children:"Back to Employees"})]})})}function W(){const{id:t}=k(),[d,l]=D.useState("overview"),{data:r,isLoading:i,error:$}=T({queryKey:["employee-detail",t],queryFn:async()=>{if(!t)throw new Error("No employee ID");return(await P.get(t)).data},enabled:!!t});if(i)return e.jsx(Q,{});if($||!r)return e.jsx(V,{});const F=r.fullName||`${r.firstName||""} ${r.lastName||""}`.trim()||r.email,m=r.complianceScore??0,g=r.backgroundChecks||[],h=r.trainingRecords||[],p=r.assetAssignments||[],f=r.accessRecords||[],j=r.attestations||[],N=r.complianceIssues||[],b=r.dataSources||[];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(w,{to:"/people",className:"p-2 rounded-lg hover:bg-surface-700 text-muted-foreground hover:text-foreground",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:F}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.email})]}),e.jsx("div",{className:`flex items-center justify-center w-20 h-20 rounded-full text-2xl font-bold ${K(m)} ${H(m)}`,children:m})]}),e.jsx("div",{className:"border-b border-border",children:e.jsx("nav",{className:"flex gap-4 -mb-px",children:_.map(s=>e.jsxs("button",{onClick:()=>l(s.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${d===s.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:[e.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.id))})}),e.jsxs("div",{className:"space-y-6",children:[d==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card p-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Employee Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(B,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-foreground",children:r.email})]}),r.department&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-foreground",children:r.department})]}),r.jobTitle&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(M,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-foreground",children:r.jobTitle})]}),r.location&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-foreground",children:r.location})]}),r.hireDate&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-foreground",children:["Hired ",a(r.hireDate)]})]}),r.managerEmail&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(u,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-foreground",children:["Manager: ",r.managerEmail]})]})]})]}),e.jsxs("div",{className:"card p-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Compliance Issues"}),N.length===0?e.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[e.jsx(c,{className:"h-5 w-5"}),e.jsx("span",{children:"No compliance issues"})]}):e.jsx("div",{className:"space-y-2",children:N.map((s,n)=>e.jsxs("div",{className:"flex items-start gap-2 p-2 rounded bg-surface-700/50",children:[e.jsx(x,{className:`h-4 w-4 mt-0.5 ${s.severity==="critical"?"text-red-400":s.severity==="high"?"text-orange-400":"text-yellow-400"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-foreground",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:(s.type||"").replace("_"," ")})]})]},n))})]}),e.jsxs("div",{className:"card p-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Data Sources"}),b.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:"No data sources configured"}):e.jsx("div",{className:"space-y-2",children:b.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-surface-700/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.integration}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.type})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Synced ",a(s.lastSyncedAt)]})]},n))})]})]}),d==="background"&&e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Background Check History"}),g.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No background check records found"}):e.jsx("div",{className:"space-y-4",children:g.map(s=>e.jsxs("div",{className:"border border-border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{status:s.status}),e.jsxs("span",{className:"text-sm text-muted-foreground capitalize",children:[s.checkType||"Background"," Check"]})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["via ",s.integration?.name||"Unknown"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Initiated:"})," ",e.jsx("span",{className:"text-foreground ml-1",children:a(s.initiatedAt)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Completed:"})," ",e.jsx("span",{className:"text-foreground ml-1",children:a(s.completedAt)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Expires:"})," ",e.jsx("span",{className:"text-foreground ml-1",children:a(s.expiresAt)})]})]})]},s.id))})]}),d==="training"&&e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Training Records"}),h.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No training records found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border",children:[e.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"Course"}),e.jsx("th",{className:"text-center p-3 font-medium text-muted-foreground",children:"Type"}),e.jsx("th",{className:"text-center p-3 font-medium text-muted-foreground",children:"Status"}),e.jsx("th",{className:"text-center p-3 font-medium text-muted-foreground",children:"Due Date"}),e.jsx("th",{className:"text-center p-3 font-medium text-muted-foreground",children:"Score"}),e.jsx("th",{className:"text-right p-3 font-medium text-muted-foreground",children:"Source"})]})}),e.jsx("tbody",{children:h.map(s=>e.jsxs("tr",{className:"border-b border-border",children:[e.jsx("td",{className:"p-3 text-foreground",children:s.courseName}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${s.courseType==="required"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:s.courseType||"optional"})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx(o,{status:s.status})}),e.jsx("td",{className:"p-3 text-center text-muted-foreground",children:a(s.dueDate||s.completedAt)}),e.jsx("td",{className:"p-3 text-center text-foreground",children:s.score??"—"}),e.jsx("td",{className:"p-3 text-right text-muted-foreground",children:s.integration?.name||"Manual"})]},s.id))})]})})]}),d==="assets"&&e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Assigned Assets"}),p.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No assets assigned"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(s=>e.jsxs("div",{className:"border border-border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-foreground",children:s.deviceName||s.name||"Unknown Device"})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${s.isCompliant?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:s.isCompliant?"Compliant":"Non-Compliant"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",e.jsx("span",{className:"text-foreground ml-1 capitalize",children:s.deviceType||s.type||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Model:"})," ",e.jsx("span",{className:"text-foreground ml-1",children:s.model||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Serial:"})," ",e.jsx("span",{className:"text-foreground ml-1",children:s.serialNumber||"—"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"OS:"})," ",e.jsx("span",{className:"text-foreground ml-1",children:s.osVersion||"—"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Check-in:"})," ",e.jsx("span",{className:"text-foreground ml-1",children:a(s.lastCheckIn)})]})]})]},s.id))})]}),d==="access"&&e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Access & Systems"}),f.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No access records found"}):f.map(s=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-surface-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-foreground",children:"MFA Status:"}),e.jsx("span",{className:s.mfaEnabled?"text-green-400":"text-red-400",children:s.mfaEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Review:"}),e.jsx("span",{className:"text-foreground",children:a(s.lastReviewDate)}),e.jsx(o,{status:s.reviewStatus})]})]}),s.systemsAccess&&s.systemsAccess.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border",children:[e.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"System"}),e.jsx("th",{className:"text-left p-3 font-medium text-muted-foreground",children:"Access Level"}),e.jsx("th",{className:"text-right p-3 font-medium text-muted-foreground",children:"Last Accessed"})]})}),e.jsx("tbody",{children:s.systemsAccess.map((n,C)=>e.jsxs("tr",{className:"border-b border-border",children:[e.jsx("td",{className:"p-3 text-foreground",children:n.name}),e.jsx("td",{className:"p-3 text-muted-foreground",children:n.accessLevel}),e.jsx("td",{className:"p-3 text-right text-muted-foreground",children:a(n.lastAccessed)})]},C))})]})})]},s.id))]}),d==="attestations"&&e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Policy Attestations"}),j.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No attestation records found"}):e.jsx("div",{className:"space-y-3",children:j.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:s.policy?.title||"Unknown Policy"}),e.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:s.policy?.category||""})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsxs("p",{className:"text-muted-foreground",children:["Requested: ",a(s.requestedAt)]}),s.respondedAt&&e.jsxs("p",{className:"text-muted-foreground",children:["Responded: ",a(s.respondedAt)]})]}),e.jsx(o,{status:s.status})]})]},s.id))})]})]})]})}export{W as default};
